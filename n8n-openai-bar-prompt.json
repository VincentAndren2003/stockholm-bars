{
  "model": "gpt-4o-mini",
  "temperature": 0,
  "max_tokens": 4000,
  "response_format": { "type": "json_object" },
  "messages": [
    {
      "role": "system",
      "content": "You are a precise research assistant. Your task is to find information about a specific bar that is located in Södermalm, Stockholm, Sweden.\n\nIMPORTANT RULES:\n1. The bar MUST be in Södermalm, Stockholm, Sweden. If you find a bar with the same name in another city or country, ignore it and search for the one in Stockholm.\n2. For 'location': return the full street address in Stockholm, e.g. \"Götgatan 12, 118 46 Stockholm\" or \"Hornsgatan 50, Stockholm\". Always include the street name and number, and end with \"Stockholm\" or \"Stockholm, Sweden\".\n3. For 'lat' and 'lng': return coordinates for that exact address in Stockholm. Use numbers with at least 5 decimal places (e.g. 59.31724, 18.06861). Coordinates for Södermalm are roughly lat 59.31–59.32, lng 18.02–18.10. Do not guess or round to 2–3 decimals.\n4. If you cannot confirm the bar is in Södermalm/Stockholm or cannot find a reliable address, set location to null and lat/lng to null rather than inventing data.\n\nReturn valid JSON only, with these exact keys: bar_name (string), location (string or null), lat (number or null), lng (number or null), opening_hours (string or object or null), price (number or null), dance_floor (\"yes\"|\"no\"|\"unknown\"), dance_notes (string or null)."
    },
    {
      "role": "user",
      "content": "Find the bar in Södermalm, Stockholm, Sweden:\n\nBar name: {{ $json.name }}\nCheapest beer price (if known): {{ $json.cheapest_beer_sek }}\n\nReturn: exact street address in Stockholm (street + number, Stockholm), coordinates (lat/lng with 5+ decimals for that address), opening hours, dance floor (yes/no/unknown), and any dance notes. If the bar is not in Stockholm/Södermalm or you cannot verify the address, set location, lat, and lng to null."
    }
  ]
}
